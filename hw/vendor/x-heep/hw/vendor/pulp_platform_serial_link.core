CAPI=2:
name : pulp-platform.org::serial_link
# Copyright 2025 EPFL.
# Solderpad Hardware License, Version 2.1, see LICENSE.md for details.
# SPDX-License-Identifier: Apache-2.0 WITH SHL-2.1
filesets:
  includes:
    files:
      #Ugly workaround from https://github.com/fusesoc/fusesoc-cores/blob/master/pulp-platform.org/common_cells-1.16.4.core#L9
      - pulp_platform_serial_link/src/axis/include/axis : {is_include_file : true}
    file_type : systemVerilogSource

  rtl:
    depend:
    - pulp-platform.org::axi:0.39.8
    - pulp-platform.org::common_cells
    - pulp-platform.org::register_interface
    - pulp-platform.org::axi_slice   
    files:
    - pulp_platform_serial_link/src/serial_link_pkg.sv
    - pulp_platform_serial_link/src/channel_allocator/serial_link_channel_allocator.sv
    - pulp_platform_serial_link/src/channel_allocator/stream_dechopper.sv
    - pulp_platform_serial_link/src/channel_allocator/stream_chopper.sv
    - pulp_platform_serial_link/src/channel_allocator/channel_spread_sfr.sv
    - pulp_platform_serial_link/src/channel_allocator/channel_despread_sfr.sv
    - pulp_platform_serial_link/src/serial_link_network.sv
    - pulp_platform_serial_link/src/serial_link_physical.sv
    - pulp_platform_serial_link/src/serial_link_data_link.sv
    - pulp_platform_serial_link/src/serial_link.sv
    file_type: systemVerilogSource
    include_dirs:
      - pulp_platform_serial_link/src/axis/include

targets:
  default:
    filesets : [includes, rtl]
